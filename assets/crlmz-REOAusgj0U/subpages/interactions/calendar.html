<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Sleek White Calendar</title>
  <style>
    :root{
      --bg: #f7f8fc;
      --surface: #ffffff;
      --text: #111418;
      --muted: #667085;
      --accent: #2563eb;      /* blue */
      --accent-2: #06b6d4;    /* cyan */
      --border: #e6e8ef;
      --border-strong: #d8dbe6;
      --shadow: 0 10px 30px rgba(16,24,40,0.08);
      --radius: 16px;
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, "Helvetica Neue", Arial, "Noto Sans", "Apple Color Emoji","Segoe UI Emoji";
      color: var(--text);
      background:
        radial-gradient(1000px 600px at 10% 10%, rgba(37,99,235,0.08), transparent 60%),
        radial-gradient(800px 500px at 90% 30%, rgba(6,182,212,0.08), transparent 60%),
        var(--bg);
      display:grid;
      place-items:center;
      padding:40px 20px;
    }
    .calendar{
      width:min(980px, 94vw);
      background: var(--surface);
      border: 1px solid var(--border);
      border-radius: var(--radius);
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .cal-header{
      display:flex;
      align-items:center;
      justify-content:space-between;
      gap:12px;
      padding:16px 18px;
      border-bottom:1px solid var(--border);
      backdrop-filter: saturate(160%) blur(6px);
    }
    .title{
      display:flex;
      align-items:baseline;
      gap:10px;
      white-space:nowrap;
    }
    .title h1{
      margin:0;
      font-size: clamp(20px, 3.5vw, 28px);
      letter-spacing:0.2px;
    }
    .title .year{
      color: var(--muted);
      font-weight:600;
      font-size: clamp(13px, 2vw, 14px);
    }
    .controls{ display:flex; align-items:center; gap:8px; flex-wrap:wrap; }
    .btn{
      appearance:none;
      border:1px solid var(--border);
      background: linear-gradient(180deg, #fff, #f8fafc);
      color: var(--text);
      padding:10px 12px;
      border-radius: 12px;
      cursor:pointer;
      transition: transform .06s ease, border-color .15s ease, background .15s ease, box-shadow .15s ease;
      display:inline-flex;
      align-items:center;
      gap:8px;
      font-weight:600;
      box-shadow: 0 1px 0 rgba(16,24,40,0.02);
    }
    .btn:hover{ border-color: var(--border-strong); box-shadow: 0 3px 10px rgba(16,24,40,0.06); }
    .btn:active{ transform: translateY(1px) }
    .btn.primary{
      border-color: rgba(37,99,235,0.35);
      background: linear-gradient(180deg, rgba(37,99,235,0.08), rgba(37,99,235,0.02));
      color: #0b2e84;
    }
    .icon{ width:18px; height:18px; display:inline-block; }
    .legend{
      display:flex;
      align-items:center;
      gap:14px;
      color: var(--muted);
      font-size: 12px;
    }
    .dot{ width:8px; height:8px; border-radius:999px; display:inline-block; }
    .dot.accent{ background: var(--accent) }
    .dot.alt{ background: var(--accent-2) }

    .weekdays{
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      gap:10px;
      padding:14px 18px 6px;
      color: var(--muted);
      font-weight:600;
      font-size:12px;
      letter-spacing:0.4px;
      text-transform:uppercase;
    }
    .grid{
      padding:6px 18px 18px;
      display:grid;
      grid-template-columns: repeat(7, 1fr);
      gap:10px;
    }
    .cell{
      position:relative;
      min-height:100px;
      border:1px solid var(--border);
      border-radius: 14px;
      background: #fff;
      overflow:hidden;
      transition: border-color .15s ease, box-shadow .15s ease, transform .06s ease;
    }
    .cell:hover{
      border-color: var(--border-strong);
      box-shadow: 0 6px 16px rgba(16,24,40,0.06);
    }
    .cell:active{ transform: translateY(1px) }
    .cell.dimmed{ opacity:0.6; background: #fcfcfd; }
    .daynum{
      position:absolute;
      top:10px; left:12px;
      font-weight:700;
      font-size: 13px;
      color: var(--muted);
    }
    .add-btn{
      position:absolute;
      top:8px; right:8px;
      border:1px solid var(--border);
      background:#fff;
      border-radius:10px;
      padding:4px 6px;
      font-size:12px;
      color: var(--accent);
      display:inline-flex; align-items:center; gap:6px;
      cursor:pointer;
      opacity:0;
      transition: opacity .15s ease, border-color .15s ease, transform .06s ease;
    }
    .cell:hover .add-btn{ opacity:1 }
    .add-btn:hover{ border-color: var(--border-strong) }
    .add-btn:active{ transform: translateY(1px) }

    .inner{
      padding: 34px 12px 12px;
      display:flex;
      flex-direction:column;
      gap:6px;
    }
    .pill{
      display:flex;
      align-items:center;
      gap:8px;
      width:100%;
      border-radius: 12px;
      padding:8px 10px;
      font-size:12px;
      font-weight:600;
      color: var(--text);
      border: 1px solid rgba(37,99,235,0.25);
      background: linear-gradient(180deg, rgba(37,99,235,0.08), rgba(37,99,235,0.02));
    }
    .pill.alt{
      border-color: rgba(6,182,212,0.35);
      background: linear-gradient(180deg, rgba(6,182,212,0.10), rgba(6,182,212,0.03));
    }
    .pill .label{
      overflow:hidden; text-overflow:ellipsis; white-space:nowrap; flex:1;
    }
    .pill .del{
      border:none; background:transparent; color:#8f99ab; cursor:pointer; padding:4px; border-radius:8px;
    }
    .pill .del:hover{ color:#e11d48; background:#fff0f2 }
    .today{
      position:absolute;
      inset: -1px;
      border-radius: 14px;
      pointer-events:none;
      border: 2px solid var(--accent);
      box-shadow: 0 0 0 4px rgba(37,99,235,0.14);
    }
    .sr-only{
      position:absolute !important;
      width:1px;height:1px;
      padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0;
    }

    /* Modal */
    .modal{
      position: fixed;
      inset: 0;
      display:none;
      place-items:center;
      background: rgba(16,24,40,0.28);
      padding: 20px;
      z-index: 50;
    }
    .modal[aria-hidden="false"]{ display:grid }
    .card{
      width:min(520px, 96vw);
      background:#fff;
      border:1px solid var(--border);
      border-radius: 16px;
      box-shadow: var(--shadow);
      overflow:hidden;
    }
    .card header{
      padding:14px 16px;
      border-bottom:1px solid var(--border);
      display:flex; align-items:center; justify-content:space-between; gap:8px;
    }
    .card header h2{ margin:0; font-size:18px }
    .card .close{
      border:1px solid var(--border); background:#fff; border-radius:10px; padding:6px; cursor:pointer; color:#6b7280;
    }
    .card .close:hover{ border-color: var(--border-strong) }
    .card form{ padding:16px; display:grid; gap:12px }
    .field{ display:grid; gap:6px }
    .field label{ font-size:12px; color: var(--muted); font-weight:600; letter-spacing:0.3px; }
    input[type="text"], input[type="date"], select{
      width:100%;
      padding:10px 12px;
      border:1px solid var(--border);
      border-radius: 10px;
      background:#fff;
      font-size:14px;
      outline:none;
      transition: border-color .15s ease, box-shadow .15s ease;
    }
    input[type="text"]:focus, input[type="date"]:focus, select:focus{
      border-color: rgba(37,99,235,0.45);
      box-shadow: 0 0 0 4px rgba(37,99,235,0.15);
    }
    .actions{ display:flex; justify-content:flex-end; gap:10px; padding:0 16px 16px }
    .btn.ghost{
      background:#fff; border-color: var(--border); color:#111418;
    }
    .btn.solid{
      background: var(--accent); color:#fff;
      border-color: var(--accent);
    }
    .btn.solid:hover{ box-shadow: 0 6px 16px rgba(37,99,235,0.25) }

    @media (max-width: 720px){
      .cell{ min-height:90px }
      .weekdays{ font-size:11px }
    }
    @media (max-width: 520px){
      .legend{ display:none }
      .add-btn{ opacity:1 } /* make add button visible on mobile */
    }
  </style>
</head>
<body>
  <main class="calendar" aria-label="Calendar">
    <header class="cal-header">
      <div class="title">
        <h1 id="cal-month">Month</h1>
        <div class="year" id="cal-year">Year</div>
      </div>
      <div class="controls">
        <button class="btn" id="prev" aria-label="Previous month">
          <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M15 6l-6 6 6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Prev
        </button>
        <button class="btn" id="today" aria-label="Go to today">
          <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M7 4h10M5 8h14v10a3 3 0 0 1-3 3H8a3 3 0 0 1-3-3V8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
          Today
        </button>
        <button class="btn" id="next" aria-label="Next month">
          Next
          <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M9 6l6 6-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>
        </button>
        <button class="btn primary" id="add-global" aria-label="Add event">
          <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M12 5v14M5 12h14" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
          Add event
        </button>
      </div>
      <div class="legend" aria-hidden="true">
        <span class="dot accent"></span> Event, <span class="dot alt"></span> Task
      </div>
    </header>

    <section class="weekdays" aria-hidden="true">
      <div>Sun</div><div>Mon</div><div>Tue</div><div>Wed</div><div>Thu</div><div>Fri</div><div>Sat</div>
    </section>

    <section class="grid" id="grid" role="grid" aria-readonly="true"></section>
    <span id="sr-month" class="sr-only" aria-live="polite"></span>
  </main>

  <!-- Modal -->
  <div class="modal" id="event-modal" aria-hidden="true" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="card">
      <header>
        <h2 id="modal-title">Add event</h2>
        <button class="close" id="close-modal" aria-label="Close">
          <svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M6 6l12 12M18 6L6 18" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>
        </button>
      </header>
      <form id="event-form">
        <div class="field">
          <label for="date">Date</label>
          <input type="date" id="date" name="date" required />
        </div>
        <div class="field">
          <label for="label">Title</label>
          <input type="text" id="label" name="label" placeholder="e.g., Design review" required />
        </div>
        <div class="field">
          <label for="type">Type</label>
          <select id="type" name="type">
            <option value="event">Event</option>
            <option value="task">Task</option>
          </select>
        </div>
        <div class="actions">
          <button type="button" class="btn ghost" id="cancel">Cancel</button>
          <button type="submit" class="btn solid">Save</button>
        </div>
      </form>
    </div>
  </div>

  <script>
    // Simple in-memory event store: { "YYYY-MM-DD": [{id, label, type}] }
    const events = {};

    const state = {
      view: new Date(),
      today: new Date(),
      selectedDate: null // for pre-filling modal
    };

    const monthNames = ["January","February","March","April","May","June","July","August","September","October","November","December"];

    const grid = document.getElementById('grid');
    const monthEl = document.getElementById('cal-month');
    const yearEl = document.getElementById('cal-year');
    const srMonthEl = document.getElementById('sr-month');

    const modal = document.getElementById('event-modal');
    const form = document.getElementById('event-form');
    const dateInput = document.getElementById('date');
    const labelInput = document.getElementById('label');
    const typeInput = document.getElementById('type');

    // Controls
    document.getElementById('prev').addEventListener('click', () => shiftMonth(-1));
    document.getElementById('next').addEventListener('click', () => shiftMonth(1));
    document.getElementById('today').addEventListener('click', () => { state.view = new Date(state.today.getFullYear(), state.today.getMonth(), 1); render(); });
    document.getElementById('add-global').addEventListener('click', () => {
      const d = state.selectedDate || state.today;
      openModal(keyForDate(d));
    });

    document.getElementById('close-modal').addEventListener('click', closeModal);
    document.getElementById('cancel').addEventListener('click', closeModal);
    window.addEventListener('keydown', (e) => {
      if (e.key === 'Escape' && modal.getAttribute('aria-hidden') === 'false') closeModal();
      if (e.key === 'ArrowLeft') shiftMonth(-1);
      else if (e.key === 'ArrowRight') shiftMonth(1);
      else if (e.key.toLowerCase() === 't') { state.view = new Date(state.today.getFullYear(), state.today.getMonth(), 1); render(); }
    });
    modal.addEventListener('click', (e) => { if (e.target === modal) closeModal(); });

    form.addEventListener('submit', (e) => {
      e.preventDefault();
      const dateStr = dateInput.value;
      const label = labelInput.value.trim();
      const type = typeInput.value;
      if (!dateStr || !label) return;
      addEvent(dateStr, label, type);
      closeModal();
      render();
    });

    function shiftMonth(delta){
      const y = state.view.getFullYear();
      const m = state.view.getMonth() + delta;
      state.view = new Date(y, m, 1);
      render();
    }

    function render(){
      const y = state.view.getFullYear();
      const m = state.view.getMonth();

      monthEl.textContent = monthNames[m];
      yearEl.textContent = y;
      srMonthEl.textContent = `${monthNames[m]} ${y}`;
      grid.innerHTML = '';

      const first = new Date(y, m, 1);
      const startDay = first.getDay(); // 0..6 (Sun..Sat)
      const daysInMonth = new Date(y, m + 1, 0).getDate();
      const daysInPrev = new Date(y, m, 0).getDate();

      const totalCells = 42;
      const cells = [];
      for (let i = 0; i < totalCells; i++){
        const cellIndex = i - startDay;
        let dateObj, isCurrentMonth = true;

        if (cellIndex < 0){
          const day = daysInPrev + cellIndex + 1;
          dateObj = new Date(y, m - 1, day);
          isCurrentMonth = false;
        } else if (cellIndex >= daysInMonth){
          const day = cellIndex - daysInMonth + 1;
          dateObj = new Date(y, m + 1, day);
          isCurrentMonth = false;
        } else {
          dateObj = new Date(y, m, cellIndex + 1);
        }
        cells.push({ date: dateObj, current: isCurrentMonth });
      }

      const todayKey = keyForDate(state.today);

      for (const {date, current} of cells){
        const dateKey = keyForDate(date);
        const cell = document.createElement('div');
        cell.className = 'cell' + (current ? '' : ' dimmed');
        cell.setAttribute('role','gridcell');
        cell.dataset.date = dateKey;

        const daynum = document.createElement('div');
        daynum.className = 'daynum';
        daynum.textContent = date.getDate();

        const addBtn = document.createElement('button');
        addBtn.className = 'add-btn';
        addBtn.type = 'button';
        addBtn.setAttribute('aria-label', `Add event on ${dateKey}`);
        addBtn.innerHTML = `<svg class="icon" viewBox="0 0 24 24" fill="none"><circle cx="12" cy="12" r="9" stroke="currentColor" stroke-width="1.5"/><path d="M12 8v8M8 12h8" stroke="currentColor" stroke-width="1.5" stroke-linecap="round"/></svg>`;
        addBtn.addEventListener('click', (e) => { e.stopPropagation(); openModal(dateKey); });

        const inner = document.createElement('div');
        inner.className = 'inner';

        const list = events[dateKey] || [];
        for (const ev of list){
          const pill = document.createElement('div');
          pill.className = 'pill' + (ev.type === 'task' ? ' alt' : '');
          pill.title = ev.label;
          const dot = document.createElement('span');
          dot.className = 'dot ' + (ev.type === 'task' ? 'alt' : 'accent');
          const label = document.createElement('span');
          label.className = 'label';
          label.textContent = ev.label;
          const del = document.createElement('button');
          del.className = 'del';
          del.type = 'button';
          del.setAttribute('aria-label', `Remove ${ev.label}`);
          del.innerHTML = '<svg class="icon" viewBox="0 0 24 24" fill="none"><path d="M9 9l6 6M15 9l-6 6" stroke="currentColor" stroke-width="2" stroke-linecap="round"/></svg>';
          del.addEventListener('click', () => { removeEvent(dateKey, ev.id); render(); });

          pill.appendChild(dot);
          pill.appendChild(label);
          pill.appendChild(del);
          inner.appendChild(pill);
        }

        if (dateKey === todayKey){
          const ring = document.createElement('span');
          ring.className = 'today';
          ring.setAttribute('aria-hidden','true');
          cell.appendChild(ring);
        }

        cell.addEventListener('click', () => {
          // Select cell for keyboard add or header add prefill
          state.selectedDate = date;
          // Brief visual could be added if desired
        });

        cell.appendChild(daynum);
        cell.appendChild(addBtn);
        cell.appendChild(inner);
        grid.appendChild(cell);
      }
    }

    function keyForDate(d){
      const y = d.getFullYear();
      const m = (d.getMonth()+1).toString().padStart(2,'0');
      const day = d.getDate().toString().padStart(2,'0');
      return `${y}-${m}-${day}`;
    }

    function openModal(dateKey){
      const [y,m,day] = dateKey.split('-').map(Number);
      dateInput.value = `${y}-${String(m).padStart(2,'0')}-${String(day).padStart(2,'0')}`;
      labelInput.value = '';
      typeInput.value = 'event';
      modal.setAttribute('aria-hidden','false');
      labelInput.focus();
    }

    function closeModal(){
      modal.setAttribute('aria-hidden','true');
    }

    function addEvent(dateKey, label, type){
      const id = (crypto && crypto.randomUUID) ? crypto.randomUUID() : String(Date.now()) + Math.random().toString(16).slice(2);
      events[dateKey] = events[dateKey] || [];
      events[dateKey].push({ id, label, type });
    }

    function removeEvent(dateKey, id){
      const list = events[dateKey] || [];
      const idx = list.findIndex(e => e.id === id);
      if (idx > -1) list.splice(idx, 1);
      if (list.length === 0) delete events[dateKey];
    }

    // Seed a couple of demo items
    (function seedDemo(){
      const t = new Date();
      const k1 = keyForDate(new Date(t.getFullYear(), t.getMonth(), 5));
      const k2 = keyForDate(new Date(t.getFullYear(), t.getMonth(), 14));
      addEvent(k1, "Design review", "event");
      addEvent(k2, "Sprint retro", "event");
      addEvent(k2, "Invoice due", "task");
    })();

    render();
  </script>
</body>
</html>